(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[62],{1376:function(e,t,a){"use strict";a.r(t);var n=a(19),i=a(477),s=(a(526),a(1)),l=a(564),o=a.n(l),r=a(468),c=a(96),d=a(102),u=a(473),b=a(1257),j=a(7),p={paid:{class:"light-success",text:Object(j.jsx)(r.a,{id:"paid"})},pending:{class:"light-warning",text:Object(j.jsx)(r.a,{id:"pending"})},failed:{class:"light-danger",text:Object(j.jsx)(r.a,{id:"failed"})}},m={0:{text:"Free"},1:{text:"Basic"},2:{text:"Standrad"},3:{text:"Premium"}},v=[{name:Object(j.jsx)(r.a,{id:"ID"}),maxWidth:"120px",selector:"id",sortable:!1,cell:function(e){return e.id}},{name:Object(j.jsx)(r.a,{id:"name"}),minWidth:"150px",selector:"name",sortable:!1,cell:function(e){return e.user_payment}},{name:Object(j.jsx)(r.a,{id:"Payment Money"}),minWidth:"120px",selector:"total_money",sortable:!1,cell:function(e){return Object(j.jsx)("span",{className:"text-capitalize",children:Object(d.f)(e.total_money)+" "+Object(d.d)(null===e||void 0===e?void 0:e.lang)})}},{name:Object(j.jsx)(r.a,{id:"Payment Type"}),minWidth:"150px",selector:"payment_type",sortable:!1,cell:function(e){return e.payment_type}},{name:Object(j.jsx)(r.a,{id:"service"}),minWidth:"200px",selector:"service",sortable:!1,cell:function(e){var t,a,n,i,s,l,o,r,c,d,u,b;return(null===e||void 0===e?void 0:e.userTokenDetails)&&(null===e||void 0===e||null===(t=e.userTokenDetails)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(a=e.userTokenDetails[0])||void 0===a?void 0:a.user_token)&&(null===e||void 0===e||null===(n=e.userTokenDetails[0])||void 0===n||null===(i=n.user_token)||void 0===i?void 0:i.product)&&(null===e||void 0===e||null===(s=e.userTokenDetails[0])||void 0===s||null===(l=s.user_token)||void 0===l||null===(o=l.product)||void 0===o||null===(r=o.product_names)||void 0===r?void 0:r.length)>0&&(null===e||void 0===e||null===(c=e.userTokenDetails[0])||void 0===c||null===(d=c.user_token)||void 0===d||null===(u=d.product)||void 0===u||null===(b=u.product_names[0])||void 0===b?void 0:b.name)||""}},{name:"Token",minWidth:"300px",selector:"token",sortable:!1,cell:function(e){var t,a,n,i,s;return(null===e||void 0===e?void 0:e.userTokenDetails)&&(null===e||void 0===e||null===(t=e.userTokenDetails)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(a=e.userTokenDetails[0])||void 0===a?void 0:a.user_token)&&(null===e||void 0===e||null===(n=e.userTokenDetails[0])||void 0===n||null===(i=n.user_token)||void 0===i||null===(s=i.token)||void 0===s?void 0:s.substring(0,90))||""}},{name:Object(j.jsx)(r.a,{id:"cloud_type"}),minWidth:"200px",selector:"package",sortable:!1,cell:function(e){var t,a,n,i;return(null===e||void 0===e?void 0:e.userTokenDetails)&&(null===e||void 0===e||null===(t=e.userTokenDetails)||void 0===t?void 0:t.length)>0&&("number"===typeof(null===e||void 0===e||null===(a=e.userTokenDetails[0])||void 0===a?void 0:a.productPriceType)||0===(null===e||void 0===e||null===(n=e.userTokenDetails[0])||void 0===n?void 0:n.productPriceType))&&m[null===e||void 0===e||null===(i=e.userTokenDetails[0])||void 0===i?void 0:i.productPriceType].text||""}},{name:Object(j.jsx)(r.a,{id:"Start date"}),minWidth:"150px",selector:"dateStart",sortable:!1,cell:function(e){var t,a,n;return(null===e||void 0===e?void 0:e.userTokenDetails)&&(null===e||void 0===e||null===(t=e.userTokenDetails)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(a=e.userTokenDetails[0])||void 0===a?void 0:a.user_token)&&(null===e||void 0===e||null===(n=e.userTokenDetails[0])||void 0===n?void 0:n.fromdate)||""}},{name:Object(j.jsx)(r.a,{id:"End date"}),minWidth:"150px",selector:"dateEnd",sortable:!1,cell:function(e){var t,a,n;return(null===e||void 0===e?void 0:e.userTokenDetails)&&(null===e||void 0===e||null===(t=e.userTokenDetails)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(a=e.userTokenDetails[0])||void 0===a?void 0:a.user_token)&&(null===e||void 0===e||null===(n=e.userTokenDetails[0])||void 0===n?void 0:n.enddate)||""}},{name:Object(j.jsx)(r.a,{id:"createdAt"}),minWidth:"200px",selector:"createdAt",sortable:!1,cell:function(e){return Object(j.jsx)("span",{className:"text-capitalize",children:Object(u.a)(null===e||void 0===e?void 0:e.createdAt)})}},{name:Object(j.jsx)(r.a,{id:"status"}),minWidth:"140px",selector:"status",sortable:!1,cell:function(e){var t,a;return Object(j.jsx)(b.a,{className:"text-capitalize",color:null===(t=p[e.status])||void 0===t?void 0:t.class,pill:!0,children:null===(a=p[e.status])||void 0===a?void 0:a.text})}}],f=a(68),O=a(654),h=a(492),x=a.n(h),g=a(799),T=a(483),k=a.n(T),y=a(485),N=a(514),_=a(515),C=a(471),S=a(516),A=a(482),E=a(1255),D=(a(505),a(506),a(528)),w=a(37),R=a(510),I=a.n(R),P=function(e){var t=e.exportToExcel;return Object(j.jsx)("div",{className:"invoice-list-table-header w-100 mr-1 ml-50 mt-1 mb-75",children:Object(j.jsxs)(N.a,{className:"justify-content-end",children:[Object(j.jsx)(_.a,{xl:"6",className:"d-flex align-items-center p-0"}),Object(j.jsx)(_.a,{xl:"6",className:"d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pr-lg-1 p-0 mt-lg-0 mt-1",children:Object(j.jsx)(C.a.Ripple,{color:"primary",onClick:t,children:"Export Excel"})})]})})};t.default=Object(c.c)((function(e){var t=e.intl,a=Object(f.b)(),l=Object(f.c)((function(e){return e.transactionsToken})),c=Object(D.g)(),d=Object(s.useState)(""),u=Object(n.a)(d,2),b=(u[0],u[1],Object(s.useState)(1)),p=Object(n.a)(b,2),m=p[0],h=p[1],T=Object(s.useState)(20),R=Object(n.a)(T,2),L=R[0],M=(R[1],Object(s.useState)(!1)),U=Object(n.a)(M,2),W=(U[0],U[1],Object(s.useState)()),z=Object(n.a)(W,2),G=z[0],F=z[1],q=Object(s.useState)(),H=Object(n.a)(q,2),K=H[0],J=H[1],X=Object(s.useState)(),B=Object(n.a)(X,2),V=B[0],Y=B[1],Z=Object(s.useState)(),Q=Object(n.a)(Z,2),$=Q[0],ee=(Q[1],Object(f.c)((function(e){return e.common.language})),Object(s.useState)({value:"",label:"Status"})),te=Object(n.a)(ee,2),ae=(te[0],te[1],Object(s.useState)({value:"",label:Object(j.jsx)(r.a,{id:"Select payment type"})})),ne=Object(n.a)(ae,2),ie=ne[0],se=ne[1],le=Object(s.useState)({value:"",label:Object(j.jsx)(r.a,{id:"Select status"}),number:0}),oe=Object(n.a)(le,2),re=oe[0],ce=oe[1],de=Object(s.useState)(!1),ue=Object(n.a)(de,2),be=ue[0],je=ue[1];Object(s.useEffect)((function(){a(Object(O.b)({filter:{payment_type:ie.value||void 0,status:re.value||void 0,product_id:$||void 0,user_payment:K||void 0,type:1},startDate:G&&G[0]||void 0,endDate:V&&V[0]||void 0,skip:(m-1)*L,limit:L,order:{key:"createdAt",value:"desc"}}))}),[be,m]),Object(s.useEffect)((function(){a(Object(O.c)({filter:{},order:{key:"createdAt",value:"desc"}}))}),[l.status]),Object(s.useEffect)((function(){if("UPDATE_TRANSACTION"===(null===l||void 0===l?void 0:l.type))200==(null===l||void 0===l?void 0:l.status)?(w.c.success(Object(j.jsx)(r.a,{id:"Update successful!"})),je(!be)):400==(null===l||void 0===l?void 0:l.status)&&w.c.warn(Object(j.jsx)(r.a,{id:"Update failed!"}))}),[l.status]);var pe=[{value:"",label:Object(j.jsx)(r.a,{id:"Select payment type"})},{value:"online",label:"Online"},{value:"offline",label:"Offline"}],me=[{value:"",label:Object(j.jsx)(r.a,{id:"Select status"}),number:0},{value:"pending",label:Object(j.jsx)(r.a,{id:"pending"}),number:1},{value:"paid",label:Object(j.jsx)(r.a,{id:"paid"}),number:2},{value:"failed",label:Object(j.jsx)(r.a,{id:"failed"}),number:2}],ve=Number(Math.ceil(l.data.count/L));return Object(j.jsxs)("div",{className:"app-user-list",children:[Object(j.jsx)(i.a,{title:Object(j.jsx)(r.a,{id:"transactionToken"})}),Object(j.jsx)(S.a,{children:Object(j.jsx)(A.a,{children:Object(j.jsxs)(N.a,{children:[Object(j.jsx)(_.a,{md:"4",children:Object(j.jsx)(E.a,{id:"search-invoice",className:" w-100",placeholder:t.formatMessage({id:"username"}),type:"text",value:K,onChange:function(e){return J(e.target.value)}})}),Object(j.jsx)(_.a,{md:"4",children:Object(j.jsx)(y.a,{isClearable:!1,className:"react-select",classNamePrefix:"select",options:pe,value:ie,onChange:function(e){se(e)}})}),Object(j.jsx)(_.a,{md:"4",children:Object(j.jsx)(y.a,{isClearable:!1,className:"react-select",classNamePrefix:"select",options:me,value:re,onChange:function(e){ce(e)}})}),Object(j.jsx)(_.a,{md:"4",children:Object(j.jsx)(o.a,{value:G,"data-enable-time":!0,placeholder:t.formatMessage({id:"start date"}),id:"date-time-picker",className:"form-control",onChange:function(e){return F(e)}})}),Object(j.jsx)(_.a,{md:"4",children:Object(j.jsx)(o.a,{value:V,"data-enable-time":!0,placeholder:t.formatMessage({id:"end date"}),id:"date-time-picker",className:"form-control",onChange:function(e){return Y(e)}})}),Object(j.jsx)(_.a,{md:"4",children:Object(j.jsx)(C.a,{color:"primary",className:"m-0",onClick:function(){je(!be),h(1)},children:Object(j.jsx)(r.a,{id:"Search"})})})]})})}),Object(j.jsx)(S.a,{children:Object(j.jsx)(A.a,{children:Object(j.jsx)(N.a,{children:Object(j.jsx)(x.a,{noHeader:!0,subHeader:!0,noDataComponent:Object(j.jsx)("div",{className:"sc-fznWqX gnahTY",children:Object(j.jsx)("div",{className:"sc-AxjAm gIMaKV rdt_Table",role:"table",children:Object(j.jsx)("div",{className:"sc-fzqARJ icdHOq",children:Object(j.jsx)("div",{style:{padding:"25px ",textAlign:"center",color:"black",background:"white"},children:Object(j.jsx)(r.a,{id:"There are no records to display"})})})})}),pointerOnHover:!0,highlightOnHover:!0,responsive:!0,paginationServer:!0,onRowClicked:function(e){return c.push("/apps/transactionToken/edit/"+e.id)},columns:v,sortIcon:Object(j.jsx)(g.a,{}),className:"react-dataTable",paginationComponent:function(){return Object(j.jsx)(k.a,{previousLabel:"",nextLabel:"",pageCount:ve||1,activeClassName:"active",forcePage:0!==m?m-1:0,onPageChange:function(e){return h(e.selected+1)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e,t;if((null===l||void 0===l||null===(e=l.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0)return null===l||void 0===l?void 0:l.data.data}(),subHeaderComponent:Object(j.jsx)(P,{exportToExcel:function(){var e,t;if((null===l||void 0===l||null===(e=l.dataExport)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0){var a=null===l||void 0===l?void 0:l.dataExport.data,i=[{header:"ID",key:"id"},{header:"T\u1ed5ng ti\u1ec1n",key:"total_money"},{header:"Tr\u1ea1ng Th\xe1i",key:"status"},{header:"Ng\xf4n ng\u1eef",key:"lang"},{header:"Email",key:"email"},{header:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",key:"phone"},{header:"\u0110\u1ecba ch\u1ec9",key:"address"},{header:"T\xean ng\u01b0\u1eddi mua",key:"user_payment"},{header:"T\xean c\xf4ng ty",key:"company_name"},{header:"M\xe3 Zip",key:"zip_code"},{header:"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n",key:"payment_type"},{header:"Ghi ch\xfa",key:"note"},{header:"Ng\xe0y t\u1ea1o",key:"createdAt"},{header:"Ng\xe0y c\u1eadp nh\u1eadt",key:"updatedAt"}],s=a.map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t,a=Object(n.a)(e,2),s=a[0],l=a[1];return[(null===(t=i.find((function(e){return e.key===s})))||void 0===t?void 0:t.header)||s,l]})))})),o=I.a.utils.json_to_sheet(s,{header:i.map((function(e){return e.header}))}),r=I.a.utils.book_new();I.a.utils.book_append_sheet(r,o,"Giao d\u1ecbch"),I.a.writeFile(r,"transaction.xlsx")}}})})})})}),ve>0&&Object(j.jsx)(k.a,{previousLabel:"",nextLabel:"",pageCount:ve||0,activeClassName:"active",forcePage:0!==m?m-1:0,onPageChange:function(e){return h(e.selected+1)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-center my-2 pr-1"})]})}))},477:function(e,t,a){"use strict";var n=a(514),i=a(515),s=a(7);t.a=function(e){return Object(s.jsx)(n.a,{className:"mb-2",children:Object(s.jsxs)(i.a,{sm:"12",className:"ml-50",children:[Object(s.jsx)("p",{className:"font-medium-5 mt-1 extension-title","data-tour":"extension-title",children:e.title}),e.link?Object(s.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.subTitle}):Object(s.jsx)("p",{className:"text-primary",children:e.subTitle})]})})}},498:function(e,t){},511:function(e,t){},512:function(e,t){},514:function(e,t,a){"use strict";var n=a(17),i=a(18),s=a(1),l=a.n(s),o=a(6),r=a.n(o),c=a(67),d=a.n(c),u=a(100),b=r.a.oneOfType([r.a.number,r.a.string]),j={tag:u.q,noGutters:r.a.bool,className:r.a.string,cssModule:r.a.object,form:r.a.bool,xs:b,sm:b,md:b,lg:b,xl:b},p={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e){var t=e.className,a=e.cssModule,s=e.noGutters,o=e.tag,r=e.form,c=e.widths,b=Object(i.a)(e,["className","cssModule","noGutters","tag","form","widths"]),j=[];c.forEach((function(t,a){var n=e[t];if(delete b[t],n){var i=!a;j.push(i?"row-cols-"+n:"row-cols-"+t+"-"+n)}}));var p=Object(u.m)(d()(t,s?"no-gutters":null,r?"form-row":"row",j),a);return l.a.createElement(o,Object(n.a)({},b,{className:p}))};m.propTypes=j,m.defaultProps=p,t.a=m},515:function(e,t,a){"use strict";var n=a(17),i=a(18),s=a(1),l=a.n(s),o=a(6),r=a.n(o),c=a(67),d=a.n(c),u=a(100),b=r.a.oneOfType([r.a.number,r.a.string]),j=r.a.oneOfType([r.a.bool,r.a.number,r.a.string,r.a.shape({size:r.a.oneOfType([r.a.bool,r.a.number,r.a.string]),order:b,offset:b})]),p={tag:u.q,xs:j,sm:j,md:j,lg:j,xl:j,className:r.a.string,cssModule:r.a.object,widths:r.a.array},m={tag:"div",widths:["xs","sm","md","lg","xl"]},v=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},f=function(e){var t=e.className,a=e.cssModule,s=e.widths,o=e.tag,r=Object(i.a)(e,["className","cssModule","widths","tag"]),c=[];s.forEach((function(t,n){var i=e[t];if(delete r[t],i||""===i){var s=!n;if(Object(u.k)(i)){var l,o=s?"-":"-"+t+"-",b=v(s,t,i.size);c.push(Object(u.m)(d()(((l={})[b]=i.size||""===i.size,l["order"+o+i.order]=i.order||0===i.order,l["offset"+o+i.offset]=i.offset||0===i.offset,l)),a))}else{var j=v(s,t,i);c.push(j)}}})),c.length||c.push("col");var b=Object(u.m)(d()(t,c),a);return l.a.createElement(o,Object(n.a)({},r,{className:b}))};f.propTypes=p,f.defaultProps=m,t.a=f},516:function(e,t,a){"use strict";var n=a(17),i=a(18),s=a(1),l=a.n(s),o=a(6),r=a.n(o),c=a(67),d=a.n(c),u=a(100),b={tag:u.q,inverse:r.a.bool,color:r.a.string,body:r.a.bool,outline:r.a.bool,className:r.a.string,cssModule:r.a.object,innerRef:r.a.oneOfType([r.a.object,r.a.string,r.a.func])},j=function(e){var t=e.className,a=e.cssModule,s=e.color,o=e.body,r=e.inverse,c=e.outline,b=e.tag,j=e.innerRef,p=Object(i.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(u.m)(d()(t,"card",!!r&&"text-white",!!o&&"card-body",!!s&&(c?"border":"bg")+"-"+s),a);return l.a.createElement(b,Object(n.a)({},p,{className:m,ref:j}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},526:function(e,t,a){},654:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return d}));var n=a(11),i=a(26),s=a(13),l=a(31),o=function(e){return function(){var t=Object(i.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send({method:s.a.LIST_TRANSACTION_TOKEN_OF_USER.method,path:s.a.LIST_TRANSACTION_TOKEN_OF_USER.path,data:e}).then((function(t){a({type:"GET_DATA_TRANSACTION_TOKEN",data:null===t||void 0===t?void 0:t.data,params:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r=function(e){return function(){var t=Object(i.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send({method:s.a.LIST_TRANSACTION_OF_USER.method,path:s.a.LIST_TRANSACTION_OF_USER.path,data:e}).then((function(t){a({type:"GET_DATA_EXPORT_USER",data:null===t||void 0===t?void 0:t.data,params:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},c=function(e,t){return function(){var a=Object(i.a)(Object(n.a)().mark((function a(i){return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.send({method:s.a.GET_TRANSACTION_CLOUD_DETAIL.method,path:s.a.GET_TRANSACTION_CLOUD_DETAIL.path,query:{id:e},data:t}).then((function(e){i({type:"GET_TRANSACTION_TOKEN",data:null===e||void 0===e?void 0:e.data,params:t})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(i.a)(Object(n.a)().mark((function t(a,i){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send({method:s.a.UPDATE_TRANSACTION_OF_USER.method,path:s.a.UPDATE_TRANSACTION_OF_USER.path,data:e}).then((function(e){a({type:"UPDATE_TRANSACTION",response:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=62.6118c4ca.chunk.js.map